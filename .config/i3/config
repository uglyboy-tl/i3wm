######################################################################
# Date    : 12/12/2018
# Author  : Uglyboy
# Version : v1.0
#
# ä¾èµ–:conky feh (å¯é€‰æ¨è: compton )
# éƒ¨åˆ†ç‰¹æ€§å¯èƒ½éœ€è¦æ–°ç‰ˆæœ¬æ”¯æŒï¼Œè¯·æ›´æ–°è‡³æœ€æ–°ç‰ˆæœ¬æˆ–è‡ªè¡Œä¿®æ”¹ç›¸åº”éƒ¨åˆ†
# æ›´å¤šå†…å®¹è¯·å‚è€ƒ:
# i3 Userâ€™s Guide: http://i3wm.org/docs/userguide.html
#
######################################################################

# => å¼€æœºè‡ªå¯ï¼ˆæ ¹æ®éœ€è¦å–æ¶ˆç›¸åº”çš„æ³¨é‡Š#ï¼‰
exec --no-startup-id xrandr --output HDMI1 --mode 1920x1080  --pos 1366x0 --rotate normal --output LVDS1 --primary  --mode 1366x768 --pos 0x616 --rotate normal --output VIRTUAL1 
exec --no-startup-id /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1
exec --no-startup-id nm-applet --no-agent
exec --no-startup-id redshift-gtk -l 39.77:116.67

# å£çº¸é¡»å…ˆå®‰è£…fehï¼Œå¹¶åœ¨æ­¤æŒ‡å®šè·¯å¾„
exec_always --no-startup-id feh --bg-fill "$HOME/.config/i3/wallpaper.jpg"

# è®¾ç½®é€æ˜é¡»å…ˆå®‰è£…compton
exec_always --no-startup-id compton -CGb

# å»ºè®®å¦å¤–æŒ‡å®šä¸€ä¸ªè„šæœ¬æ¥å¯åŠ¨é€šç”¨çš„å¼€æœºè‡ªå¯é¡¹ç›®
exec --no-startup-id $HOME/.config/i3/autostart

# => è®¾å®šmodé”®ä¸å·¥ä½œåŒºå
set $mod  Mod4
set $WS1  1:ï„ 
set $WS2  2:ï‰¨
set $WS3  3:ï‰¬
set $WS4  4:ï‚”
set $WS5  5:ï…‹
set $WS6  6:ï€ˆ
set $WS7  7:ï…º
set $WS8  8:ï…Š
set $WS9  9:ğŸŒ
set $WS0 10:ïˆ…


# => ç»‘å®šå·¥ä½œåŒºæ˜¾ç¤ºçš„å±å¹•
workspace $WS1 output LVDS1 
workspace $WS2 output HDMI1
workspace $WS3 output HDMI1
workspace $WS4 output LVDS1 
workspace $WS5 output HDMI1

# è‡ªåŠ¨åˆ‡æ¢åˆ°æ–°æ‰“å¼€çš„çª—å£(éœ€4.12ç‰ˆæœ¬æ”¯æŒ)
focus_on_window_activation focus

# æ³¨é‡Šéƒ¨åˆ†è¯·ä¾æ®ä¸ªäººå–œå¥½æ›´æ”¹å¹¶å–æ¶ˆæ³¨é‡Šï¼Œä¸”æŠŠi3-sensible-terminalæ›¿æ¢ä¸ºå¸¸ç”¨term
bindsym $mod+1 workspace $WS1, exec --no-startup-id ~/.config/i3/st urxvt
bindsym $mod+2 workspace $WS2, exec --no-startup-id ~/.config/i3/st google-chrome-stable
bindsym $mod+3 workspace $WS3, exec --no-startup-id ~/.config/i3/st pcmanfm
bindsym $mod+4 workspace $WS4, exec --no-startup-id ~/.config/i3/st rambox
bindsym $mod+5 workspace $WS5, exec --no-startup-id ~/.config/i3/st /opt/visual-studio-code/bin/code
bindsym $mod+6 workspace $WS6
bindsym $mod+7 workspace $WS7
bindsym $mod+8 workspace $WS8
bindsym $mod+9 workspace $WS9
bindsym $mod+0 workspace $WS0

# => ç§»åŠ¨çª—å£åˆ°å¦ä¸€ä¸ªå·¥ä½œåŒº
bindsym $mod+mod1+Left  move container to workspace prev, workspace prev
bindsym $mod+mod1+Right move container to workspace next, workspace next
bindsym $mod+mod1+1 move container to workspace $WS1, workspace $WS1
bindsym $mod+mod1+2 move container to workspace $WS2, workspace $WS2
bindsym $mod+mod1+3 move container to workspace $WS3, workspace $WS3
bindsym $mod+mod1+4 move container to workspace $WS4, workspace $WS4
bindsym $mod+mod1+5 move container to workspace $WS5, workspace $WS5
bindsym $mod+mod1+6 move container to workspace $WS6, workspace $WS6
bindsym $mod+mod1+7 move container to workspace $WS7, workspace $WS7
bindsym $mod+mod1+8 move container to workspace $WS8, workspace $WS8
bindsym $mod+mod1+9 move container to workspace $WS9, workspace $WS9
bindsym $mod+mod1+0 move container to workspace $WS0, workspace $WS0

# => è‡ªå®šä¹‰çª—å£ï¼ˆæ”¯æŒå®šä¹‰è¾¹æ¡†ç±»å‹ï¼Œçª—å£å¸ƒå±€ï¼Œå¤§å°è°ƒæ•´ï¼Œè‡ªåŠ¨å½’ç±»å·¥ä½œåŒºç­‰ç­‰ï¼Œå¤šä¸ªå®šä¹‰ç”¨,éš”å¼€ï¼‰
for_window [class="(?i)pcmanfm"] move container to workspace $WS3, workspace $WS3, layout tabbed
assign [class="(?i)rambox"] $WS4
assign [class="Google-chrome"] $WS2
assign [class="(?i)code"] $WS5

# => æµ®åŠ¨çª—å£çš„ç¨‹åº
for_window [class="Lxappearance"] floating enable
for_window [class="Enpass"] floating enable
for_window [class="Lxtask"] floating enable
for_window [class="Leafpad"] floating enable
for_window [class="Gpicview"] floating enable
for_window [class="Desmume"] floating enable
for_window [class="File-roller"] floating enable

# => å¿«æ·å¯åŠ¨
bindsym $mod+Return	exec --no-startup-id rofi -show run
bindsym mod1+Tab		exec --no-startup-id rofi -theme paper-float -show window
bindsym Control+Shift+Escape	exec --no-startup-id lxtask
#bindsym --release $mod+Print exec scrot -q 100 -s $HOME/å›¾ç‰‡/æˆªå›¾/`date +%Y-%m-%d_%H:%M:%S`.png

# => çª—å£è¾¹æ¡†ç±»å‹ï¼ˆè¾¹æ¡†ç±»å‹æœ‰normalæ­£å¸¸/noneæ— è¾¹æ¡†/pixel 1 è‡ªå®šä¹‰å®½åº¦ï¼‰
# é»˜è®¤æ™®é€šçª—å£çš„è¾¹æ¡†ç±»å‹
new_window none
# é»˜è®¤æµ®åŠ¨çª—å£çš„è¾¹æ¡†ç±»å‹
new_float normal
for_window [floating] border normal
# å–æ¶ˆå·¥ä½œåŒºè¾¹ç¼˜çš„è¾¹æ¡†
hide_edge_borders both
# æµ®åŠ¨çª—å£æ§åˆ¶
floating_modifier $mod

# => å…³é—­çª—å£
bindsym mod1+F4 kill
bindsym --release button3 kill

# => ç„¦ç‚¹åˆ‡æ¢
# ç„¦ç‚¹è·Ÿéšé¼ æ ‡ç§»åŠ¨
focus_follows_mouse no

# => å¸ƒå±€åˆ‡æ¢
# åˆ‡æ¢åˆ°å †å å¸ƒå±€
# bindsym $mod+z layout stacking
# åˆ‡æ¢åˆ°æ ‡ç­¾å¸ƒå±€
# bindsym $mod+x layout tabbed
# åˆ‡æ¢åˆ°å¹³é“ºå¸ƒå±€ï¼ˆç«–ç›´/æ°´å¹³ï¼‰
# bindsym $mod+c layout toggle split
# åœ¨æ‰€æœ‰å¸ƒå±€ä¸­è½®å›åˆ‡æ¢
bindsym $mod+x layout toggle all
# çª—å£åˆ‡æ¢åˆ°å…¨å±
bindsym $mod+f fullscreen toggle
# çª—å£åˆ‡æ¢åˆ°æµ®åŠ¨
bindsym $mod+space floating toggle,border normal
# çª—å£åˆ‡æ¢ä¸ºç²˜æ»
bindsym $mod+g sticky toggle


# => éŸ³é‡æ§åˆ¶
bindsym XF86AudioRaiseVolume exec --no-startup-id amixer -q set Master 2dB+ unmute
bindsym XF86AudioLowerVolume exec --no-startup-id amixer -q set Master 2dB- unmute
bindsym XF86AudioMute exec --no-startup-id amixer -q set Master toggle

# åª’ä½“ç®¡ç†
bindsym XF86AudioPrev exec --no-startup-id mpc prev
bindsym XF86AudioNext exec --no-startup-id mpc next
bindsym XF86AudioPlay exec --no-startup-id mpc toggle

# => ç”µæºç®¡ç†ï¼ˆPause Breaké”®å‘¼å‡º)
bindsym $mod+l exec i3lock -c '#333333', exec sleep .1 && exec xset dpms force off, mode "default"
set $mode_system ç³»ç»Ÿ:æ³¨é”€(O) å…³æœº(S) é‡å¯(R) å–æ¶ˆ(Esc)
bindsym $mod+q mode "$mode_system"
bindsym Pause mode "$mode_system"
mode "$mode_system" {
    bindsym o exec i3-msg exit
    bindsym s exec systemctl poweroff
    bindsym r exec systemctl reboot
    bindsym Escape mode "default"
}

# => é‡æ–°è½½å…¥ï¼ˆæ›´æ”¹é…ç½®æ–‡ä»¶ååªé¡»é‡è½½å³å¯ç”Ÿæ•ˆï¼Œä¸åŒ…å«è‡ªå¯éƒ¨åˆ†ï¼‰
bindsym mod1+Shift+r restart

############################# ä¸»é¢˜ç›¸å…³ ###############################
# å­—ä½“
font pango:Monaco 12

# çª—å£é¢œè‰²                è¾¹æ¡†    èƒŒæ™¯    æ–‡å­—    æç¤º
client.focused          #333333 #333333 #FFFFFF #333333
client.focused_inactive #999999 #999999 #FFFFFF #3399FF
client.unfocused        #999999 #999999 #FFFFFF #3399FF
client.urgent           #990000 #990000 #FFFFFF #990000
client.placeholder      #000000 #000000 #FFFFFF #000000
client.background       #FFFFFF

# i3bar
bindsym $mod+m bar mode toggle
bar {
    i3bar_command i3bar -t
    #height 28

    # i3barè°ƒç”¨
    status_command conky -c $HOME/.config/i3/conky.conf
    # æ˜¾ç¤ºä½ç½®
    position top
    # æ˜¯å¦éšè—
    #mode hide
    # æ˜¾ç¤º/éšè—åˆ‡æ¢é”®
    #modifier $mod
    # æ‹†è§£å·¥ä½œåŒºåï¼ˆéšè—å‰é¢çš„1:2:3:â€¦â€¦ï¼‰
    strip_workspace_numbers yes
    # å®šä¹‰åˆ†éš”ç¬¦ï¼ˆé€‚ç”¨äºi3statusï¼‰
    separator_symbol "  ï„…  "

    colors {
        background #10101000
        statusline #FFFFFF
        separator  #3399FF
        # å·¥ä½œåŒºé¢œè‰²         è¾¹æ¡†    èƒŒæ™¯    æ–‡å­—
        focused_workspace  #3297FD #11111100 #FFFFFF
        active_workspace   #FFFFFF #FFFFFF00 #FFFFFF
        inactive_workspace #111111 #11111100 #FFFFFF
        urgent_workspace   #990000 #11111100 #FFFFFF
        binding_mode       #990000 #99000000 #FFFFFF
    }
}

############################# i3-gaps ###############################
gaps inner 4
gaps outer 6
